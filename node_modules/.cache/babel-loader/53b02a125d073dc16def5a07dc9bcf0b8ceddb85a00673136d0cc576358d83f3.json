{"ast":null,"code":"var _jsxFileName = \"/Users/user/BTC/soro_project_dig_btc_kikuchi/src/components/Add.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport { VariableContext } from \"../App\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Add = () => {\n  _s();\n  const [inputNewItem, setInputNewItem] = useState({\n    item: \"\",\n    quantity: 1,\n    quantity_unit: \"個/本/玉\"\n  });\n  const [,, lists, setLists,,, shop, setShop] = useContext(VariableContext);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setInputNewItem({\n      ...inputNewItem,\n      [name]: value\n    });\n  };\n  const handleSubmit = e => {\n    //ページのリロード処理を無効化\n    e.preventDefault();\n    if (!inputNewItem) return;\n    setLists(lists => [...lists, {\n      uniquKey: uuidv4(),\n      item: inputNewItem.item,\n      isCompleted: false,\n      corner_name: \"選択してください\",\n      directions: 1,\n      quantity: inputNewItem.quantity,\n      quantity_unit: inputNewItem[\"quantity_unit\"]\n    }]);\n    setInputNewItem({\n      item: \"\",\n      quantity: 1,\n      quantity_unit: \"個/本/玉\"\n    });\n    //登録\n    const getData = async () => {\n      const response = await fetch(fetchURL + \"/lists\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(lists.slice(-1)[0])\n      }).then(e => e.json());\n      setShopTable(response);\n    };\n    getData();\n    setNewCreateFlag(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      id: \"add\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"item\",\n        value: inputNewItem[\"item\"],\n        placeholder: \"\\u65B0\\u3057\\u304F\\u8CB7\\u3046\\u7269\",\n        onChange: e => handleChange(e),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u91CF\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"quantity\",\n        type: \"number\",\n        min: 0,\n        value: inputNewItem[\"quantity\"],\n        placeholder: \"\\u91CF\",\n        onChange: e => handleChange(e),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\\u5358\\u4F4D\",\n        children: \"\\u5358\\u4F4D\\uFF1A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        form: \"add\",\n        name: \"quantity_unit\",\n        onChange: e => handleChange(e),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u500B/\\u672C/\\u7389\",\n          children: \"\\u500B/\\u672C/\\u7389\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\\u30D1\\u30C3\\u30AF/\\u888B/\\u7F36\",\n          children: \"\\u30D1\\u30C3\\u30AF/\\u888B/\\u7F36\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"L\",\n          children: \"L\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Kg\",\n          children: \"Kg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u8FFD\\u52A0!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Add, \"M6bODXW9xV5GEH8fb8bVC9vD8g8=\");\n_c = Add;\nvar _c;\n$RefreshReg$(_c, \"Add\");","map":{"version":3,"names":["React","useContext","useState","VariableContext","v4","uuidv4","jsxDEV","_jsxDEV","Fragment","_Fragment","Add","_s","inputNewItem","setInputNewItem","item","quantity","quantity_unit","lists","setLists","shop","setShop","handleChange","e","name","value","target","handleSubmit","preventDefault","uniquKey","isCompleted","corner_name","directions","getData","response","fetch","fetchURL","method","headers","body","JSON","stringify","slice","then","json","setShopTable","setNewCreateFlag","children","onSubmit","id","type","placeholder","onChange","required","fileName","_jsxFileName","lineNumber","columnNumber","min","htmlFor","form","_c","$RefreshReg$"],"sources":["/Users/user/BTC/soro_project_dig_btc_kikuchi/src/components/Add.tsx"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { VariableContext } from \"../App\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport const Add = () => {\n  const [inputNewItem, setInputNewItem] = useState({\n    item: \"\",\n    quantity: 1,\n    quantity_unit: \"個/本/玉\",\n  });\n  const [, , lists, setLists, , , shop, setShop] = useContext(VariableContext);\n\n  const handleChange = (\n    e:\n      | React.ChangeEvent<HTMLInputElement>\n      | React.ChangeEvent<HTMLSelectElement>\n  ) => {\n    const { name, value } = e.target;\n    setInputNewItem({ ...inputNewItem, [name]: value });\n  };\n\n  const handleSubmit = (e: { preventDefault: () => void }) => {\n    //ページのリロード処理を無効化\n    e.preventDefault();\n    if (!inputNewItem) return;\n    setLists((lists: any) => [\n      ...lists,\n      {\n        uniquKey: uuidv4(),\n        item: inputNewItem.item,\n        isCompleted: false,\n        corner_name: \"選択してください\",\n        directions: 1,\n        quantity: inputNewItem.quantity,\n        quantity_unit: inputNewItem[\"quantity_unit\"],\n      },\n    ]);\n    setInputNewItem({\n      item: \"\",\n      quantity: 1,\n      quantity_unit: \"個/本/玉\",\n    });\n    //登録\n    const getData = async () => {\n      const response = await fetch(fetchURL + \"/lists\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(lists.slice(-1)[0]),\n      }).then((e) => e.json());\n      setShopTable(response);\n    };\n    getData();\n    setNewCreateFlag(false);\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} id=\"add\">\n        <input\n          type=\"text\"\n          name=\"item\"\n          value={inputNewItem[\"item\"]}\n          placeholder=\"新しく買う物\"\n          onChange={(e) => handleChange(e)}\n          required\n        />\n        <label>量：</label>\n        <input\n          name=\"quantity\"\n          type=\"number\"\n          min={0}\n          value={inputNewItem[\"quantity\"]}\n          placeholder=\"量\"\n          onChange={(e) => handleChange(e)}\n          required\n        />\n\n        <label htmlFor=\"単位\">単位：</label>\n        <select\n          form=\"add\"\n          name=\"quantity_unit\"\n          onChange={(e) => handleChange(e)}\n        >\n          <option value=\"個/本/玉\">個/本/玉</option>\n          <option value=\"パック/袋/缶\">パック/袋/缶</option>\n          <option value=\"L\">L</option>\n          <option value=\"Kg\">Kg</option>\n        </select>\n        <button type=\"submit\">追加!</button>\n      </form>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}