{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/NEW-Green-Field_BU/src/components/Modal.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useRef } from \"react\";\nimport \"./Modal.css\";\nimport { VariableContext } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst fetchURL = process.env.NODE_ENV ? \"https://sataro-zamas.onrender.com\" : \"http://localhost:3333\";\nexport default function Modal() {\n  _s();\n  const [, setPopup,, setPostedArray,, userData] = useContext(VariableContext);\n  const [postData, setPostData] = useState({\n    title: \"\",\n    tag: \"\",\n    url: \"\",\n    comment: \"\"\n  });\n  const htmlRef = useRef(null);\n  const today = new Date();\n  const newPost = async () => {\n    const {\n      comment,\n      ...newData\n    } = {\n      ...postData,\n      \"post-date\": `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, \"0\")}-${String(today.getDate()).padStart(2, \"0\")}`,\n      \"p-user-id\": userData[0][\"user-id\"]\n    };\n    let response = await fetch(fetchURL + \"/posted\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        posted: newData,\n        comment\n      })\n    }).then(e => e.json());\n    setPostedArray(response);\n    setPopup(false);\n    response = null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popUpBack\",\n    ref: htmlRef,\n    onClick: e => {\n      e.target === htmlRef.current && setPopup(false);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u2728NEW Article\\u2728\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"title\",\n        placeholder: \"Title\",\n        value: postData.title,\n        onChange: e => setPostData({\n          ...postData,\n          [e.target.name]: e.target.value\n        }),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        list: \"tags\",\n        name: \"tag\",\n        placeholder: \"Tag\",\n        value: postData.tag,\n        onChange: e => setPostData({\n          ...postData,\n          [e.target.name]: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n        id: \"tags\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"dummy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"dummy2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"dummy3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"comment\",\n        placeholder: \"review comment\",\n        onChange: e => setPostData({\n          ...postData,\n          [e.target.name]: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"url\",\n        name: \"url\",\n        placeholder: \"URL\",\n        value: postData.url,\n        onChange: e => setPostData({\n          ...postData,\n          [e.target.name]: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttonArea\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: newPost,\n          children: \"POST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setPopup(false);\n          },\n          children: \"CLOSE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(Modal, \"48UE1Pc5ihfiPwuhl9noAnjsYmo=\");\n_c = Modal;\nvar _c;\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useState","useContext","useRef","VariableContext","jsxDEV","_jsxDEV","fetchURL","process","env","NODE_ENV","Modal","_s","setPopup","setPostedArray","userData","postData","setPostData","title","tag","url","comment","htmlRef","today","Date","newPost","newData","getFullYear","String","getMonth","padStart","getDate","response","fetch","method","headers","body","JSON","stringify","posted","then","e","json","className","ref","onClick","target","current","children","fileName","_jsxFileName","lineNumber","columnNumber","type","name","placeholder","value","onChange","required","list","id","_c","$RefreshReg$"],"sources":["/Users/user/Desktop/NEW-Green-Field_BU/src/components/Modal.tsx"],"sourcesContent":["import React, { useState, useContext, useRef } from \"react\";\nimport \"./Modal.css\";\nimport { VariableContext } from \"../App\";\nconst fetchURL = process.env.NODE_ENV\n  ? \"https://sataro-zamas.onrender.com\"\n  : \"http://localhost:3333\";\n\nexport default function Modal() {\n  const [, setPopup, , setPostedArray, , userData] =\n    useContext(VariableContext);\n  const [postData, setPostData] = useState({\n    title: \"\",\n    tag: \"\",\n    url: \"\",\n    comment: \"\",\n  });\n  const htmlRef = useRef<HTMLDivElement>(null);\n  const today = new Date();\n\n  const newPost = async () => {\n    const { comment, ...newData } = {\n      ...postData,\n      \"post-date\": `${today.getFullYear()}-${String(\n        today.getMonth() + 1\n      ).padStart(2, \"0\")}-${String(today.getDate()).padStart(2, \"0\")}`,\n      \"p-user-id\": userData[0][\"user-id\"],\n    };\n    let response = await fetch(fetchURL + \"/posted\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ posted: newData, comment }),\n    }).then((e) => e.json());\n    setPostedArray(response);\n    setPopup(false);\n    response = null;\n  };\n\n  return (\n    <div\n      className=\"popUpBack\"\n      ref={htmlRef}\n      onClick={(e) => {\n        e.target === htmlRef.current && setPopup(false);\n      }}\n    >\n      <section>\n        <h1>✨NEW Article✨</h1>\n        {/* タイトル */}\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Title\"\n          value={postData.title}\n          onChange={(e: any) =>\n            setPostData({ ...postData, [e.target.name]: e.target.value })\n          }\n          required\n        />\n        {/* タグ */}\n        <input\n          list=\"tags\"\n          name=\"tag\"\n          placeholder=\"Tag\"\n          value={postData.tag}\n          onChange={(e: any) =>\n            setPostData({ ...postData, [e.target.name]: e.target.value })\n          }\n        />\n        <datalist id=\"tags\">\n          <option value=\"dummy\"></option>\n          <option value=\"dummy2\"></option>\n          <option value=\"dummy3\"></option>\n        </datalist>\n        {/* コメント */}\n        <input\n          type=\"text\"\n          name=\"comment\"\n          placeholder=\"review comment\"\n          onChange={(e: any) =>\n            setPostData({ ...postData, [e.target.name]: e.target.value })\n          }\n        />\n        <input\n          type=\"url\"\n          name=\"url\"\n          placeholder=\"URL\"\n          value={postData.url}\n          onChange={(e: any) =>\n            setPostData({ ...postData, [e.target.name]: e.target.value })\n          }\n        />\n        {/* ボタン */}\n        <div className=\"buttonArea\">\n          <button onClick={newPost}>POST</button>\n          <button\n            onClick={() => {\n              setPopup(false);\n            }}\n          >\n            CLOSE\n          </button>\n        </div>\n      </section>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}